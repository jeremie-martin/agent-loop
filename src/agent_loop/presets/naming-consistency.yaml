name: naming-consistency
description: Establish consistent naming patterns across the codebase

prompt_prefix: |
  FIRST: Find and read all markdown documentation in this project before doing anything else.
  Search for and read: README files (root and subdirectories), CLAUDE.md, AGENTS.md, and all
  files in docs/ or documentation/ directories. Understand the codebase's patterns, conventions,
  and architecture. Only then proceed with your task.

  IMPORTANT - When spawning sub-agents:
  Sub-agents do not automatically have the context you have. For each sub-agent you spawn:
  1. Give it the exact file paths to relevant documentation (CLAUDE.md, README, etc.)
  2. Explicitly instruct it to read those files completely before starting its task
  3. Include any other specific files it needs to examine

  Do not assume sub-agents will find documentation on their own — give them the paths.

prompt_suffix: |
  Do not use the "question" tool or any tool requiring user input.
  Stage and commit your changes at the end with a descriptive message.

modes:
  - name: consistency
    prompt: |
      A well-named codebase is predictable. When someone reads `getUserById`,
      they already know what `getOrderById` looks like without checking. Similar
      things have similar names; different things have different names.

      Consistency means: one concept, one name. The same casing style throughout.
      Verbs used the same way (get vs fetch vs retrieve—pick one). Abbreviations
      spelled the same everywhere (user vs usr—pick one).

      The dominant pattern in the existing codebase is the standard. Identify
      what most code already does, then bring outliers into alignment. Prioritize
      by visibility—public APIs and class names matter more than local variables.

      Rename to match the dominant pattern. Update all references: imports, type
      hints, documentation, tests. Use your editor's rename refactoring when
      available—it's safer than find-replace.

      Focus on changes that meaningfully improve readability. A few clear wins
      are better than many marginal renames. If something is consistent enough
      to not cause confusion, leave it alone.

      "No changes needed" is a valid outcome.

      **After completing your changes**, orchestrate verification:

      1. Spawn a sub-agent to review your work. Give it:
         - The paths to relevant documentation files and instruct it to read them first
         - The files you modified
         - The naming conventions you identified as dominant
         - Instruction to check: are all references updated? Do tests pass?
           Any typos? Any renames that changed meaning?

      2. Spawn a filter sub-agent. Give it the verification feedback and ask:
         which concerns are genuine issues vs style preferences?

      3. Address filtered feedback, then commit.
