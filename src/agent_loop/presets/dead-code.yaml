name: dead-code
description: Remove unused code, imports, and stale artifacts

prompt_suffix: Commit any changes you make. Do not use the "question" tool or any tool requiring user input.

modes:
  - name: imports
    prompt: |
      Unused imports are clutter. They slow down readers trying to understand dependencies, trigger unnecessary loads, and sometimes mask actual import errors.

      Scan the codebase for imports that are never used. Tools and linters can help, but also look for: imports used only in commented-out code, imports that were needed for a feature since removed, wildcard imports that pull in far more than needed.

      prompt_suffix: Commit any changes you make. Do not use the "question" tool or any tool requiring user input. Do not use the "question" tool or any tool requiring user input.
  - name: unreachable
    prompt: |
      Dead code is a lie. It suggests functionality that doesn't exist, paths that can't be taken, options that aren't real.

      Look for code that can never execute: functions that are never called, branches guarded by impossible conditions, early returns that make subsequent code unreachable, feature flags that are permanently off.

      Use sub-agents to trace call graphs in larger codebases—spawn agents to find all callers of suspicious functions and report back.

      Remove what's truly dead. But verify before deleting—some code is called dynamically, through reflection, or from external entry points. When uncertain, leave it but add a TODO questioning its necessity.

  - naprompt_suffix: Commit any changes you make. Do not use the "question" tool or any tool requiring user input. Do not use the "question" tool or any tool requiring user input.    prompt: |
      Comments rot faster than code. TODOs become lies. Explanations drift from what they explain.

      Look for stale artifacts: TODO comments for work that was done (or will never be done), comments that describe code that's since changed, disabled code preserved "just in case," documentation for removed features.

      Clean up the staleness. Delete TODOs that are done or irrelevant. Update or remove misleading comments. Delete commented-out code—version control remembers it if you ever need it back.

      But preserve comments that are still accurate and useful. The goal is truth, not minimalism.
prompt_suffix: Commit any changes you make. Do not use the "question" tool or any tool requiring user input. Do not use the "question" tool or any tool requiring user input.